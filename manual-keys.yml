listeners:
  - name: tproxy
    type: tproxy
    port: 1181

# --- ĞĞ‘Ğ©Ğ˜Ğ• ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ Ğ¯Ğ”Ğ Ğ ---
mixed-port: 1080
tcp-concurrent: true
allow-lan: true
mode: rule
log-level: silent
ipv6: false
external-controller: 0.0.0.0:9090
external-ui: ./zash
external-ui-url: "https://github.com/Zephyruso/zashboard/releases/latest/download/dist-cdn-fonts.zip"
geodata-mode: true
profile:
  store-selected: true
find-process-mode: "off"

# --- ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ Ğ¡ĞĞ˜Ğ¤Ğ¤Ğ•Ğ Ğ ---
sniffer:
  enable: true
  force-dns-mapping: true
  sniff:
    HTTP:
      ports: [80]
      override-destination: true
    TLS:
      ports: [443]
    QUIC:
      ports: [443]

# --- Ğ¡ĞŸĞ˜Ğ¡ĞĞš ĞŸĞ ĞĞšĞ¡Ğ˜-Ğ¡Ğ•Ğ Ğ’Ğ•Ğ ĞĞ’ (ĞšĞ›Ğ®Ğ§Ğ˜) ---
proxies:
  # ĞšĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ¤Ğ¸Ğ½Ğ»ÑĞ½Ğ´Ğ¸Ğ¸
  - name: 'ğŸ‡«ğŸ‡® Finland #1'
    type: vless
    server: fi-proxy.example.com
    port: 443
    uuid: a1b2c3d4-e5f6-7890-abcd-ef1234567890
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: fi-proxy.example.com
    client-fingerprint: chrome
    reality-opts:
      public-key: xK9P75YczqJDjXIaN2v4flLqJ25bXKdW98SdqK8TmHY
      short-id:     # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚Ñƒ, Ñ‚Ğ¾ Ğ¿ÑƒÑÑ‚Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
  # ĞšĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ“ĞµÑ€Ğ¼Ğ°Ğ½Ğ¸Ğ¸
  - name: 'ğŸ‡©ğŸ‡ª Germany #1'
    type: vless
    server: de-proxy.example.com
    port: 443
    uuid: b2c3d4e5-f6g7-8901-bcde-f23456789012
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: de-proxy.example.com
    client-fingerprint: chrome
    reality-opts:
      public-key: mN8Q86ZdArKEkYJbO3w5gmMrK36cYLeX09TerL9UnIZ
      short-id:     # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚Ñƒ, Ñ‚Ğ¾ Ğ¿ÑƒÑÑ‚Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

  # ĞšĞ»ÑÑ‡ Ğ´Ğ»Ñ Ğ Ğ¾ÑÑĞ¸Ğ¸
  - name: 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
    type: vless
    server: ru-proxy.example.com
    port: 443
    uuid: c3d4e5f6-g7h8-9012-cdef-345678901234
    udp: true
    tls: true
    flow: xtls-rprx-vision
    servername: ru-proxy.example.com
    client-fingerprint: chrome
    reality-opts:
      public-key: pQ9R97aeBsLFlZKcP4x6hnNsL47dZMfY10UfsM0VoJa
      short-id:     # ĞĞ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾, ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚Ñƒ, Ñ‚Ğ¾ Ğ¿ÑƒÑÑ‚Ğ¾Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ

# --- Ğ¡Ğ•ĞšĞ¦Ğ˜Ğ¯ DNS ---
dns:
  enable: true
  listen: 0.0.0.0:7874
  ipv6: false
  cache-algorithm: arc
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8
    - 208.67.222.222
    - 208.67.220.220
  nameserver:
    - https://dns10.quad9.net/dns-query
    - https://dns.aa.net.uk/dns-query
    - https://doh.opendns.com/dns-query
    - tls://dns.quad9.net
    - tls://1.1.1.1
    - tls://dns.opendns.com
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - '*.lan'
    - '*.local'
    - +.pool.ntp.org
    - +.msftconnecttest.com
    - +.3gppnetwork.org
    - '+.just-another-domain.uk'

# --- Ğ“Ğ Ğ£ĞŸĞŸĞ« ĞŸĞ ĞĞšĞ¡Ğ˜ (ĞŸĞĞ›Ğ˜Ğ¢Ğ˜ĞšĞ˜) ---
proxy-groups:

  - name: 'Google'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/475656/google-color.svg"

  - name: 'Microsoft'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/452062/microsoft.svg"

  - name: 'GitHub'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/344880/github.svg"

  - name: 'Telegram'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/354443/telegram.svg"

  - name: 'Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/508628/flag-ru.svg"

  - name: 'ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº'
    type: select
    exclude-filter: "(?i)Russia|RU"
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/440486/earth.svg"

  - name: 'Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹'
    type: select
    proxies:
      - REJECT
      - DIRECT
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
    icon: "https://www.svgrepo.com/show/305648/adblock.svg"

  - name: 'YouTube'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/13671/youtube.svg"

  - name: 'Steam'
    type: select
    proxies:
      - 'ğŸ‡«ğŸ‡® Finland #1'
      - 'ğŸ‡©ğŸ‡ª Germany #1'
      - 'ğŸ‡·ğŸ‡º Russia #1 (AD FREE)'
      - DIRECT
    icon: "https://www.svgrepo.com/show/473800/steam.svg"

  - name: GLOBAL
    type: select
    hidden: true
    proxies:
      - 'YouTube'
      - 'Google'
      - 'Steam'
      - 'Microsoft'
      - 'GitHub'
      - 'Telegram'
      - 'Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº'
      - 'ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº'
      - 'Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹'
      - DIRECT

# --- ĞĞĞ¡Ğ¢Ğ ĞĞ™ĞšĞ˜ GEO-Ğ”ĞĞĞĞ«Ğ¥ ---
geox-url:
  geosite: "https://github.com/v2fly/domain-list-community/releases/latest/download/dlc.dat"
  geoip: "https://github.com/0FL01/meta-rules-dat_for_RU_region/releases/latest/download/geoip.dat"

# --- ĞŸĞ ĞĞ’ĞĞ™Ğ”Ğ•Ğ Ğ« ĞŸĞ ĞĞ’Ğ˜Ğ› ---
rule-providers:
  hagezi_pro:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/zxc-rv/ad-filter/releases/latest/download/adlist.mrs
    path: ./adblock/adlist.mrs
    interval: 86400


# --- ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ ĞœĞĞ Ğ¨Ğ Ğ£Ğ¢Ğ˜Ğ—ĞĞ¦Ğ˜Ğ˜ ---
rules:
  # ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ â„–0: Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹ Ğ¸ Ñ‚Ñ€ĞµĞºĞµÑ€Ğ¾Ğ²
  - GEOSITE,category-ads-all,Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹
  - RULE-SET,hagezi_pro,Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ° Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹

  # ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ â„–1: Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°
  - GEOIP,private,DIRECT,no-resolve

  # ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ â„–2: Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - DOMAIN-SUFFIX,avito.ru,DIRECT    # ĞĞ²Ğ¸Ñ‚Ğ¾ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ½Ğµ Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ñ Ğ¿Ñ€Ğ¾ĞºÑĞ¸, Ğ¿Ğ¾ ÑÑ‚Ğ¾Ğ¼Ñƒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ DIRECT
  - DOMAIN-SUFFIX,avito.st,DIRECT    # ĞĞ²Ğ¸Ñ‚Ğ¾ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾ Ğ½Ğµ Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ Ñ Ğ¿Ñ€Ğ¾ĞºÑĞ¸, Ğ¿Ğ¾ ÑÑ‚Ğ¾Ğ¼Ñƒ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒĞµÑ‚ÑÑ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ DIRECT
  - GEOSITE,category-ru,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - DOMAIN-SUFFIX,ru,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - DOMAIN-SUFFIX,xn--p1ai,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - DOMAIN-SUFFIX,yandex-pogoda.static-storage.net,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOSITE,category-gov-ru,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOIP,RU,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº,no-resolve

  # ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ â„–3: ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ñ‹Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
  - GEOSITE,steam,Steam
  - DOMAIN-SUFFIX,rutracker.org,ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - DOMAIN-SUFFIX,nnmclub.to,ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOSITE,youtube,YouTube
  - GEOSITE,google,Google
  - GEOSITE,github,GitHub
  - GEOSITE,microsoft,Microsoft
  - GEOSITE,telegram,Telegram
  - GEOSITE,alibaba,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOSITE,MOZILLA,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOSITE,XIAOMI,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - GEOSITE,CN,Ğ Ğ¾ÑÑĞ¸Ğ¹ÑĞºĞ¸Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº

  # ĞŸĞ ĞĞ’Ğ˜Ğ›Ğ â„–4: Ğ’ĞµÑÑŒ Ğ¾ÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº
  - MATCH,ĞÑÑ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ñ„Ğ¸Ğº